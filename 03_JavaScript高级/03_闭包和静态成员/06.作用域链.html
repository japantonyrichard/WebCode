<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <!-- 
        作用域链

        1. 变量的作用域

        * 变量的作用域有：全局作用域和函数作用域

        * 函数作用域，只有在函数内部才能使用的，局部变量就是

        * 全局作用域，在哪里都可以使用，全局变量就是

        * 局部变量就两种：函数的形参；函数中使用 var 关键字声明的变量

        * let 声明的变量不用考虑函数或者全局作用域，它是块级作用于，在变量所在的{}内有效

        2. 函数作用域

        * 函数作用域是可以分层的，而且内层作用域是可以使用外层作用域的内容，
          外层作用域不能使用内层作用域的内容；而且自己有就用自己的

        3. 作用域链

        * 之前我们学习过原型链，就是由一个个原型组成的链状结构，当实例对象上没有某个属性时，
          会向上一层原型中去查找，如果还没有会继续向上一层原型中查找...，直到 Object 的原型对象
        * 作用域链类似于原型链，一层层的作用域就组成了作用域链，内层作用域有某个变量，就用自己的，
          如果没有就向上一层作用域去查找，有的话就使用，如果还没有，那就继续向上查找，直到到全局作用域；
          反之则不行！

        作用域1可以用自己的、作用域2的、作用域3的内容

        作用域2可以用自己的、作用域3的内容，但是不能使用作用域1的

        作用域3只能用自己的，不能使用作用域1和作用域2的

        * 作用域最大的用处就是隔离变量，也就是不同的作用域的内容是隔开的，但是最好声明合适的变量，
          不要把它们作用域放的很大，不然容易污染！（作用域很大的话，很多地方就可以使用，就容易污染或者说误修改了）
        * 作用域链来保证对执行环境有权访问的变量和函数的有序访问
    -->
<body>
    <script>
        // 在一个函数内部，声明变量的时候，没有使用 var、let，也可以，这样声明的变量是一个全局变量
        // function fun1(){
        //     num = 1000;
        // }

        // fun1();

        // console.log(num); // 1000

        var num1 = 10; // 全局变量
        var num2 = 20; // 全局变量

        function fun1(){ // fun1是属于全局作用域的
            console.log(num1); // 10，自己没有，就往上走，用的是全局作用域的
            var num2 = 200; // 局部变量，在 fun1 函数内都可以使用
            console.log(num2); // 200，自己所在的作用域有，就用自己的

            function fun2(){ // fun2 是在 fun1 这个函数作用域内的
                console.log(num2); // 200
                var num3 = 30;
                console.log(num3); // 30

                function fun3(){
                    var num4 = 40;
                    var num2 = 2000;
                    console.log(num1); // 10
                    console.log(num2); // 2000
                    console.log(num3); // 30
                    console.log(num4); // 40
                }
                fun3();
            }
            fun2();
        }
        fun1();

    </script>
</body>

</html>