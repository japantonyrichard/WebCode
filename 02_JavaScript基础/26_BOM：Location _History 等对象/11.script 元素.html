<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        script 元素（记住）

        1. 工作原理

        * 我们是将 js 代码写在 html 文件中的 script 标签中，或者写在外部的 js 文件中，然后在页面中通过 script 标签引入

        * 浏览器加载 html 网页中代码的流程如下：

        * html 文件中的代码浏览器会从上到下去解析
        * 在解析的过程中如果碰到了 script 标签，那就通过浏览器中的 js 引擎去解析 js 代码
        * 在解析的过程中如果碰到了 script 标签引入外部的 js 文件代码，那就通过浏览器中的 js 引擎去解析执行外部的 js 代码
        * js 引擎将 js 代码全部解析完后，浏览器又会正常向下解析 html 中的元素

        * 比如：

        ```html
        <body>
            <div></div>
            <div></div>
            <div></div>
        
            <script>
                
            </script>
        
            <h3></h3>
            <h3></h3>
            <h3></h3>
            <h3></h3>
        </body>
        ```

        * 这里就有一个问题，当 script 标签中的 js 代码过多，或者 js 代码写的不合理，比如出现死循环等等，那就会导致网页中后面的标签一直就解析不到，造成网页长时间失去响应，浏览器页面就会呈现“假死”状态，这被称为“阻塞效应”

        * 为此，script 标签中出现了两个属性：defer 和 async ，用他们两个属性来解决阻塞效应

           asynchronous 单词是异步的意思

        2. defer 属性

        * defer 是延期、推迟的意思

        * 该属性用在 script 标签中，而且主要是**针对使用 script 标签引入外部 js 文件**的过程中

        * 使用该属性后，浏览器在从上往下解析我们的网页时，如果碰到了使用了 defer 属性的 script 标签，那就先不会解析 script 引入的 js 文件代码，而是继续往后去解析网页内容，直到网页内容都解析完后，才会回过头来解析 script 标签引入的 js 文件中的代码

        * 案例：

        ```html
        // 页面代码
        <body>
            <div>哈哈</div>
            <div>哈哈</div>
            <script src="./js/01.js"></script>
            // 下面的js文件代码会在最后执行
            <script src="./js/01.js" defer></script>
            <div>哈哈</div>
            <h3>呵呵</h3>
            <script src="./js/02.js"></script>
            <h3>呵呵</h3>
            <h3>呵呵</h3>
        </body>
        
        // 01.js代码
        console.log('我是01.js文件中的内容');
        
        // 02.js代码
        console.log('我是02.js文件中的内容');
        ```
        * 多个有 defer 属性的 script 标签，它们都是在网页结构解析完才会执行，这多个是按照先后顺序执行的

        3. async 属性

        * async 是异步的意思
        * async 属性也是针对 **script 标签引入外部 js 脚本**的情况
        * 使用了 async 属性的 script 引入外部文件的解析流程：
        * 浏览器开始解析 html 网页
        * 解析过程中发现带有 async 属性的 script 标签
        * 浏览器继续向下解析 html 网页，并同时进行外部 js 文件的加载（下载）
        * js 文件加载完后，浏览器暂停解析 html 网页，开始执行下载好的 js 脚本
        * 脚本执行完毕，浏览器恢复解析 html 网页
        * async 属性可以保证 js 脚本下载的同时，浏览器继续进行渲染。需要注意的是，一旦采用 async 属性，就无法保证 js 脚本的执行顺序，哪个脚本先下载结束，就先执行哪个脚本
        * 那到底 defer 属性和 async 属性使用哪个？
        * 如果脚本之间没有依赖关系，就使用 async 属性
        * 如果脚本之间有依赖关系，就使用 defer 属性
        * 如果同时使用 defer 属性和 async 属性，则 async 属性生效

        * 案例：我们平时写的代码量太少，浏览器很快就加载完了，所以案例就不写了，重点在于理解！
    -->
            
</body>
</html>